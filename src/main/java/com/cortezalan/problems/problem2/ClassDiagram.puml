@startuml

class Character {
    - character: char
    - characterProperty: CharacterProperties

    + Character(character: char, characterProperty: CharacterProperties): void

    + setCharacter(character: char): void
    + setCharacterProperty(characterProperty: CharacterProperties): void

    + getCharacter(): char
    + getFont(): String
    + getColor(): String
    + getSize(): int
}

class CharacterProperties {
    - font: String
    - color: String
    - size: int

    + CharacterProperties(font: String, color: String, size: int)

    + getFont(): String
    + getColor(): String
    + getSize(): int
}

Character o-- CharacterProperties

class CharacterPropertiesFactory {
    - flyweights: Map<String, CharacterProperties>

    + setAndRetrieveFlyweightCharacterProperties(font: String, color: String, size: int): CharacterProperties
    + sizeOfMap(): int
}

CharacterPropertiesFactory o-- CharacterProperties

class Document {
    - characters: List<Character>
    - propertiesFactory: CharacterPropertiesFactory

    + addCharacter(font: String, color: String, size: int): void
    + editCharacterProperties(index: int, font: String, color: String, size: int): void
    + saveToFile(filename: String): void
    + loadFromFile(filename: String): void
}

Document o-- Character
Document o-- CharacterPropertiesFactory

@enduml